<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie-edge">
    <title>Text Area Examples</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <style type="text/css">
      html {
        background-size: cover;
        box-sizing: border-box;
      }
      
      *,
      *:before,
      *:after {
        box-sizing: inherit;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      }

      textarea {
        border: 1px solid currentColor;
      }

      textarea:focus {
        border: 1px solid #fff;
        box-shadow: 0 0 0 2px #fff;
        outline: 4px dotted #6da003;
      }

      :disabled { 
        opacity: .5;
      }

      ::-webkit-textarea-placeholder { /* Chrome/Opera/Safari */
        color: #757575;
      }

      ::-moz-placeholder { /* Firefox 19+ */
        color: #757575;
      }

      :-ms-textarea-placeholder { /* IE 10+ */
        color: #757575;
      }

    </style>
  </head>
  <body>
    <h1> Text Area Examples</h1>
    
    <h3>1. Character Count</h3>
    <label>Description:</label>
    <span class="visually-hidden">start of text area with characters counts example</span>
    <textarea id="character-count" aria-required="true"></textarea>
    <span class="visually-hidden">end of text area with character counts example </span>
    <p id="count">You typed 0 characters</p>

    <h3>2. Limited Characters</h3>
    <p role="text">The following shows how to validate textarea fields with the <code>area-invalid</code> attribute.</p>
    <p role="text">NOTE: <code>disabled</code> textarea are not focusable.</p>
    <label>Description:</label>
    <span class="visually-hidden">start of text area with limited characters example</span>
    <textarea id="character-limit" aria-required="true" aria-invalid="true"></textarea>
    <span class="visually-hidden">end of text area with limited characters example</span>
    <p id="remaining">Characters remaining: 10</p>

    <h3>3. Disabled</h3>
    <p role="text">The following shows how to disable textarea fields with the <code>disabled</code> attribute.</p>
    <p role="text">NOTE: <code>disabled</code> textarea are not focusable.</p>
    <span class="visually-hidden">start of disabled text area input example</span>
    <textarea area-required="false" aria-invalid="false" disabled></textarea>
    <span class="visually-hidden">end of disabled text area input example</span>
    
    <script type="text/javascript">

      //1. Character Count
      var characterCount = function(event) {
        var count = document.querySelector('#count')
        var characters = event.target.value.replace(/ /g,"").replace(/\r?\n|\r/g, "")
        count.textContent = "you typed " + characters.length + " characters!"
      }
      
      document.querySelector('#character-count').addEventListener('click', characterCount)
      document.querySelector('#character-count').addEventListener('keydown', characterCount)

      var characterLimit = function(event) {
        var remaining = document.querySelector('#remaining')
        var characters = event.target.value.replace(/ /g,"").replace(/\r?\n|\r/g, "")
        if (characters.length > 9) {
          alert("You've exceeded character limit of 300!")
        }
        remaining.textContent = "Characters remaining: " + (10-characters.length)
      }

      document.querySelector('#character-limit').addEventListener('click', characterLimit)
      document.querySelector('#character-limit').addEventListener('keydown', characterLimit)

    </script>
  </body>
</html>